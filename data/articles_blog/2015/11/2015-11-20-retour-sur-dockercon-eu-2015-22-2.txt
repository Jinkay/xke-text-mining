2015-11-20-retour-sur-dockercon-eu-2015-22-2|BackCloudEvents|   Vous avez été nombreux mercredi à lire notre retour sur la DockerCon, voici la suite…  Nos sessions coup de cœur, la suite… Tor + Docker = Anonymous <3 par Jessie Frazelle La keynote à peine terminée, Jessie nous a envoyé un slot hallucinant sur l’utilisation du réseau Tor avec Docker. Elle a commencé par nous montrer comment rediriger l’ensemble du trafic de son navigateur vers Tor à l’aide d’un conteneur s’appuyant sur un fork du code source du projet Tor. On comprend alors que les règles iptables n’ont aucun secret pour elle et que son ordinateur portable ne se compose finalement que de conteneurs, que ce soit son éditeur, les lignes de commande qu’elle exécute ou son navigateur… vraiment dingue ! Jessie nous a ensuite présenté comment déployer des relais Tor à partir d’une image Docker s’appuyant sur une image Alpine puis a terminé par nous faire un proxy Tor permettant de rediriger uniquement le trafic souhaité, le tout dans un conteneur évidemment ! The latest in Docker Engine par Jessie Frazelle & Arnaud Porterie Jessie et Arnaud nous ont présenté les plus grandes nouveautés de la plateforme depuis la sortie de la version 1.9 de Docker et nous ont donné quelques idées sur le chemin à suivre pour les futures versions. Ils ont évoqué en détail l’implémentation de plugins pour la gestion des volumes et comment le nouveau mécanisme réseaux va éventuellement déprécier les –net=host et –net=container. DNS Service Discovery for Docker Swarm Clusters par Ahmet Alp Balkan Après nous avoir présenté les bases et l’intérêt intrinsèque d’un service discovery, Ahmet Alp Balkan a comparé les différentes solutions existantes (consul, etcd, interlock, mesos-dns, etc.) autour de plusieurs axes : non intrusif dans le code, intégration avec l’orchestrateur. Il nous a ensuite présenté sa solution : wagl, permettant de fournir à un cluster basé sur Docker Swarm une solution simple de service discovery, en se basant sur le protocole DNS SRV. Meet the Docker Maintainers: Engine, Networking, Swarm, Distribution Lors de la 2ème journée de conférence, des sessions   Meet the Docker Maintainers   étaient proposées afin de pouvoir échanger avec les mainteneurs. Nous avons participé à la session Docker Engine, la partie networking et les projets Swarm et Distribution au cours de laquelle nous avons pu discuter directement avec les mainteneurs de la partie Core de Docker et de Swarm. Ce fut l’occasion de discuter longuement avec Vincent Demeester et Antonio Murdaca sur le lien entre le projet RunC et Docker, puis sur la difficulté d’avoir des conteneurs Docker standalone pouvant continuer de s’exécuter sans le démon Docker, ainsi que sur l’usine de build et le processus de revue des PR mis en place chez Docker. Nous avons ensuite échangé avec Victor Vieux sur les bonnes pratiques en terme de haute disponibilité sur Docker Swarm. Il semblerait que l’approche consistant à déployer un Swarm Manager, ainsi qu’un agent sur chaque nœud soit la solution de prédilection. Nous avons également pu parler de LibNetwork qui oblige l’utilisation d’un KV store. Les équipes de LibNetwork et de Swarm travaillent actuellement sur la possibilité d’utiliser les labels et le démon Docker en lieu et place du KV Store ; à suivre donc. Une session très intéressante grâce à la grande accessibilité des mainteneurs, à refaire ! Persistent,   stateful   services with docker clusters, namespaces and docker volume magic par Michael Neale Une fois encore, une session placée sous le signe de la magie noire. Michael Neale, co-fondateur de Cloudbees, a développé, pour Jenkins, un concept similaire à Docker Volumes environ 2 ans avant que ce projet ne soit intégré à Docker Core. Il a démontré qu’une fois de plus, en connaissant sur le bout des doigts les namespaces, il est possible de créer des volumes persistants à travers un cluster, montés dynamiquement, à la volée, à l’instanciation du cluster. Bluffant. It’s in the game: The path to micro-services at Electronic Arts with Docker par Andrew Hately et Scott Porter Electronic Arts et IBM expliquent comment Docker a permis à EA de supporter de gros pics de consommation dans leurs jeux mobiles. Vu que leurs jeux sont utilisés partout dans le monde ils avaient de très fortes contraintes de disponibilité telles que du zero-downtime, mais aussi d’importants besoins de performance. La clef du succès : orchestration et monitoring ! Bref, une belle réussite et un N-ième exemple des avantages de Docker. What’s New in Docker Trusted Registry par Jon Chu et Rajat Goel La Docker Trusted Registry (DTR) est la version commerciale du projet Docker distribution. La Dockercon fut l’occasion de présenter la version 1.4 sortie quelques jours avant. Parmi les nouveautés, la recherche d’images, la suppression des images en utilisant un algorithme de garbage collection et la gestion des groupes. À noter également que la version expérimentale propose l’intégration avec le Docker Content Trust et Notary. Official Repos and Project Nautilus par Krish Garimella, Mario Ponticello et Justen Stepka Docker a radicalisé la sécurité autour des images officielles sur le Docker Hub. Rien d’étonnant quand on sait que celles-ci représentent 90% des téléchargements. Désormais celles-ci sont systématiquement scannées à la recherche de vulnérabilités en se basant sur les canaux d’informations officiels des distributions mais également par des méthodes spécifiques à Docker, la combinaisons des deux permettant d’optimiser les résultats. Pour le moment, cette fonctionnalité est disponible uniquement pour les images officielles mais devrait rapidement se généraliser aux images des utilisateurs. Le projet, répondant au nom de code Nautilus, devrait également être intégré dans la DTR. Les moments forts La soirée au Musée Maritime de Barcelone Peut-être le moment le plus magique de cette DockerCon, si on omet la grande émotion de l’hommage à Paris endeuillé en ouverture de la conférence. Après avoir acheminé les 2500 participants en bus (la file de bus occupait une avenue complète… ), Docker Inc. a déployé de la magie pour cette soirée. Accueilli par une haie de conteneurs (eh oui, on est dans un musée maritime !) l’ensemble des participants de la DockerCon ont pu se détendre et échanger librement autour d’un verre (ou d’un babyfoot ou d’une PS4), dans un lieu incroyable, les anciens chantiers navals. La vision de la réplique de la Galère Royale de Jean d’Autriche restera un moment fort de cette conférence !  Le grand final Le grand final était réservé aux lauréats du dernier Global Hack Day. Parmi tous ces projets, on a remarqué principalement Dockercraft qui n’est autre qu’un client Docker dans minecraft ! Encore plus dingue que le projet lui-même, ce sont les premières issues complètement surréalistes du projet !  